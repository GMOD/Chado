<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US"><head><title>Description of Schema</title>
<meta name="generator" content="SQL::Translator::Producer::HTML, 1.14" />
</head><body>

<h1 class="SchemaDescription">
	Description of Schema
</h1>

<hr />

<!-- 
	Table listing (3 tables)
 -->

<a name="top" />

<table class="LinkTable" width="100%">

<tr>
	<td class="LinkTableCell"><h2 class="LinkTableTitle">
	Tables
</h2></td>
</tr>

<!-- 
	Start link to table 'analysis'
 -->

<tr class="LinkTableRow">
	<td class="LinkTableCell"><a id="analysis-link" href="#analysis">analysis</a></td>
</tr>

<!-- 
	End link to table 'analysis'
 -->

<!-- 
	Start link to table 'analysisprop'
 -->

<tr class="LinkTableRow">
	<td class="LinkTableCell"><a id="analysisprop-link" href="#analysisprop">analysisprop</a></td>
</tr>

<!-- 
	End link to table 'analysisprop'
 -->

<!-- 
	Start link to table 'analysisfeature'
 -->

<tr class="LinkTableRow">
	<td class="LinkTableCell"><a id="analysisfeature-link" href="#analysisfeature">analysisfeature</a></td>
</tr>

<!-- 
	End link to table 'analysisfeature'
 -->

</table>

<!-- 
	Starting table 'analysis'
 -->

<a name="analysis" />

<table class="TableHeader" width="100%">
	<tr class="TableHeaderRow">
		<td class="TableHeaderCell"><h3>
	analysis
</h3></td>
		<a name="analysis"> <td class="TableHeaderCell" align="right"><a href="#top">Top</a></td>
	</tr>
</table>

<b>
	Comments:
</b>

<br />

<em>
	<br />
	================================================ <br />
	TABLE: analysis <br />
	================================================ <br />
	an analysis is a particular type of a computational analysis; <br />
	it may be a blast of one sequence against another, or an all by all <br />
	blast, or a different kind of analysis altogether. <br />
	it is a single unit of computation <br />
	name: <br />
	a way of grouping analyses. this should be a handy <br />
	short identifier that can help people find an analysis they <br />
	want. for instance "tRNAscan", "cDNA", "FlyPep", "SwissProt" <br />
	it should not be assumed to be unique. for instance, there may <br />
	be lots of seperate analyses done against a cDNA database. <br />
	program: <br />
	e.g. blastx, blastp, sim4, genscan <br />
	programversion: <br />
	e.g. TBLASTX 2.0MP-WashU [09-Nov-2000] <br />
	algorithm: <br />
	e.g. blast <br />
	sourcename: <br />
	e.g. cDNA, SwissProt <br />
	queryfeature_id: <br />
	the sequence that was used as the query sequence can be <br />
	optionally included via queryfeature_id - even though this <br />
	is redundant with the tables below. this can still <br />
	be useful - for instance, we may have an analysis that blasts <br />
	contigs against a database. we may then transform those hits <br />
	into global coordinates; it may be useful to keep a record <br />
	of which contig was blasted as the query. <br />
	MAPPING (bioperl): maps to Bio::Search::Result::ResultI <br />
	** not anymore, b/c we are using analysis in a more general sense <br />
	** to represent microarray analysis <br />
	sourceuri: <br />
	This is an optional permanent URL/URI for the source of the <br />
	analysis. The idea is that someone could recreate the analysis <br />
	directly by going to this URI and fetching the source data <br />
	(eg the blast database, or the training model).
</em>

<table border="1">

<tr>
	<th class="FieldHeader">
		Field Name
	</th>
	<th class="FieldHeader">
		Data Type
	</th>
	<th class="FieldHeader">
		Size
	</th>
	<th class="FieldHeader">
		Default Value
	</th>
	<th class="FieldHeader">
		Other
	</th>
	<th class="FieldHeader">
		Foreign Key
	</th>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysis-analysis_id">analysis_id</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">11</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">PRIMARY KEY, NOT NULL</td>
	<td class="FieldCellFK"></td>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysis-name">name</a></td>
	<td class="FieldCellType">varchar</td>
	<td class="FieldCellSize">255</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther"></td>
	<td class="FieldCellFK"></td>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysis-description">description</a></td>
	<td class="FieldCellType">text</td>
	<td class="FieldCellSize">64000</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther"></td>
	<td class="FieldCellFK"></td>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysis-program">program</a></td>
	<td class="FieldCellType">varchar</td>
	<td class="FieldCellSize">255</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">UNIQUE, NOT NULL</td>
	<td class="FieldCellFK"></td>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysis-programversion">programversion</a></td>
	<td class="FieldCellType">varchar</td>
	<td class="FieldCellSize">255</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">UNIQUE, NOT NULL</td>
	<td class="FieldCellFK"></td>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysis-algorithm">algorithm</a></td>
	<td class="FieldCellType">varchar</td>
	<td class="FieldCellSize">255</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther"></td>
	<td class="FieldCellFK"></td>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysis-sourcename">sourcename</a></td>
	<td class="FieldCellType">varchar</td>
	<td class="FieldCellSize">255</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">UNIQUE</td>
	<td class="FieldCellFK"></td>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysis-sourceversion">sourceversion</a></td>
	<td class="FieldCellType">varchar</td>
	<td class="FieldCellSize">255</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther"></td>
	<td class="FieldCellFK"></td>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysis-sourceuri">sourceuri</a></td>
	<td class="FieldCellType">text</td>
	<td class="FieldCellSize">64000</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther"></td>
	<td class="FieldCellFK"></td>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysis-timeexecuted">timeexecuted</a></td>
	<td class="FieldCellType">timestamp</td>
	<td class="FieldCellSize">0</td>
	<td class="FieldCellDefault">current_timestamp</td>
	<td class="FieldCellOther">NOT NULL</td>
	<td class="FieldCellFK"></td>
</tr>

</table>

<h3>
	Constraints
</h3>

<table border="1">

<tr class="IndexRow">
	<th>
		Type
	</th>
	<th>
		Fields
	</th>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>analysis_id</td>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>program</td>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>programversion</td>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>timeexecuted</td>
</tr>

<tr class="IndexCell">
	<td>UNIQUE</td>
	<td>program, programversion, sourcename</td>
</tr>

</table>

<hr />

<!-- 
	Starting table 'analysisprop'
 -->

<a name="analysisprop" />

<table class="TableHeader" width="100%">
	<tr class="TableHeaderRow">
		<td class="TableHeaderCell"><h3>
	analysisprop
</h3></td>
		<a name="analysisprop"> <td class="TableHeaderCell" align="right"><a href="#top">Top</a></td>
	</tr>
</table>

<b>
	Comments:
</b>

<br />

<em>
	<br />
	================================================ <br />
	TABLE: analysisprop <br />
	================================================
</em>

<table border="1">

<tr>
	<th class="FieldHeader">
		Field Name
	</th>
	<th class="FieldHeader">
		Data Type
	</th>
	<th class="FieldHeader">
		Size
	</th>
	<th class="FieldHeader">
		Default Value
	</th>
	<th class="FieldHeader">
		Other
	</th>
	<th class="FieldHeader">
		Foreign Key
	</th>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysisprop-analysisprop_id">analysisprop_id</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">11</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">PRIMARY KEY, NOT NULL</td>
	<td class="FieldCellFK"></td>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysisprop-analysis_id">analysis_id</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">10</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">UNIQUE, NOT NULL</td>
	<td class="FieldCellFK"><a href="#analysis-analysis_id">analysis.analysis_id</a></td>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysisprop-type_id">type_id</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">10</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">UNIQUE, NOT NULL</td>
	<td class="FieldCellFK"><a href="#cvterm-cvterm_id">cvterm.cvterm_id</a></td>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysisprop-value">value</a></td>
	<td class="FieldCellType">text</td>
	<td class="FieldCellSize">64000</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">UNIQUE</td>
	<td class="FieldCellFK"></td>
</tr>

</table>

<h3>
	Indices
</h3>

<table border="1">

<tr class="IndexRow">
	<th>
		Name
	</th>
	<th>
		Fields
	</th>
</tr>

<tr class="IndexCell">
	<td>analysisprop_idx1</td>
	<td>analysis_id</td>
</tr>

<tr class="IndexCell">
	<td>analysisprop_idx2</td>
	<td>type_id</td>
</tr>

</table>

<h3>
	Constraints
</h3>

<table border="1">

<tr class="IndexRow">
	<th>
		Type
	</th>
	<th>
		Fields
	</th>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>analysisprop_id</td>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>analysis_id</td>
</tr>

<tr class="IndexCell">
	<td>FOREIGN KEY</td>
	<td>analysis_id</td>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>type_id</td>
</tr>

<tr class="IndexCell">
	<td>FOREIGN KEY</td>
	<td>type_id</td>
</tr>

<tr class="IndexCell">
	<td>UNIQUE</td>
	<td>analysis_id, type_id, value</td>
</tr>

</table>

<hr />

<!-- 
	Starting table 'analysisfeature'
 -->

<a name="analysisfeature" />

<table class="TableHeader" width="100%">
	<tr class="TableHeaderRow">
		<td class="TableHeaderCell"><h3>
	analysisfeature
</h3></td>
		<a name="analysisfeature"> <td class="TableHeaderCell" align="right"><a href="#top">Top</a></td>
	</tr>
</table>

<b>
	Comments:
</b>

<br />

<em>
	<br />
	================================================ <br />
	TABLE: analysisfeature <br />
	================================================ <br />
	computational analyses generate features (eg genscan generates <br />
	transcripts and exons; sim4 alignments generate similarity/match <br />
	features) <br />
	analysisfeatures are stored using the feature table from <br />
	the sequence module. the analysisfeature table is used to <br />
	decorate these features, with analysis specific attributes. <br />
	a feature is an analysisfeature if and only if there is <br />
	a corresponding entry in the analysisfeature table <br />
	analysisfeatures will have two or more featureloc entries, <br />
	with rank indicating query/subject <br />
	analysis_id: <br />
	scoredsets are grouped into analyses <br />
	rawscore: <br />
	this is the native score generated by the program; for example, <br />
	the bitscore generated by blast, sim4 or genscan scores. <br />
	one should not assume that high is necessarily better than low. <br />
	normscore: <br />
	this is the rawscore but semi-normalized. complete normalization <br />
	to allow comparison of features generated by different programs <br />
	would be nice but too difficult. instead the normalization should <br />
	strive to enforce the following semantics: <br />
	* normscores are floating point numbers >= 0 <br />
	* high normscores are better than low one. <br />
	for most programs, it would be sufficient to make the normscore <br />
	the same as this rawscore, providing these semantics are <br />
	satisfied. <br />
	significance: <br />
	this is some kind of expectation or probability metric, <br />
	representing the probability that the scoredset would appear <br />
	randomly given the model. <br />
	as such, any program or person querying this table can assume <br />
	the following semantics: <br />
	* 0 <= significance <= n, where n is a positive number, theoretically <br />
	unbounded but unlikely to be more than 10 <br />
	* low numbers are better than high numbers. <br />
	identity: <br />
	percent identity between the locations compared <br />
	note that these 4 metrics do not cover the full range of scores <br />
	possible; it would be undesirable to list every score possible, as <br />
	this should be kept extensible. instead, for non-standard scores, use <br />
	the scoredsetprop table.
</em>

<table border="1">

<tr>
	<th class="FieldHeader">
		Field Name
	</th>
	<th class="FieldHeader">
		Data Type
	</th>
	<th class="FieldHeader">
		Size
	</th>
	<th class="FieldHeader">
		Default Value
	</th>
	<th class="FieldHeader">
		Other
	</th>
	<th class="FieldHeader">
		Foreign Key
	</th>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysisfeature-analysisfeature_id">analysisfeature_id</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">11</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">PRIMARY KEY, NOT NULL</td>
	<td class="FieldCellFK"></td>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysisfeature-feature_id">feature_id</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">10</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">UNIQUE, NOT NULL</td>
	<td class="FieldCellFK"><a href="#feature-feature_id">feature.feature_id</a></td>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysisfeature-analysis_id">analysis_id</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">10</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">UNIQUE, NOT NULL</td>
	<td class="FieldCellFK"><a href="#analysis-analysis_id">analysis.analysis_id</a></td>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysisfeature-rawscore">rawscore</a></td>
	<td class="FieldCellType">float</td>
	<td class="FieldCellSize">20</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther"></td>
	<td class="FieldCellFK"></td>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysisfeature-normscore">normscore</a></td>
	<td class="FieldCellType">float</td>
	<td class="FieldCellSize">20</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther"></td>
	<td class="FieldCellFK"></td>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysisfeature-significance">significance</a></td>
	<td class="FieldCellType">float</td>
	<td class="FieldCellSize">20</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther"></td>
	<td class="FieldCellFK"></td>
</tr>

<tr>
	<td class="FieldCellName"><a name="analysisfeature-identity">identity</a></td>
	<td class="FieldCellType">float</td>
	<td class="FieldCellSize">20</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther"></td>
	<td class="FieldCellFK"></td>
</tr>

</table>

<h3>
	Indices
</h3>

<table border="1">

<tr class="IndexRow">
	<th>
		Name
	</th>
	<th>
		Fields
	</th>
</tr>

<tr class="IndexCell">
	<td>analysisfeature_idx1</td>
	<td>feature_id</td>
</tr>

<tr class="IndexCell">
	<td>analysisfeature_idx2</td>
	<td>analysis_id</td>
</tr>

</table>

<h3>
	Constraints
</h3>

<table border="1">

<tr class="IndexRow">
	<th>
		Type
	</th>
	<th>
		Fields
	</th>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>analysisfeature_id</td>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>feature_id</td>
</tr>

<tr class="IndexCell">
	<td>FOREIGN KEY</td>
	<td>feature_id</td>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>analysis_id</td>
</tr>

<tr class="IndexCell">
	<td>FOREIGN KEY</td>
	<td>analysis_id</td>
</tr>

<tr class="IndexCell">
	<td>UNIQUE</td>
	<td>feature_id, analysis_id</td>
</tr>

</table>

<hr />

Created by <a href="http://sqlfairy.sourceforge.net">
SQL::Translator 0.06</a>
</body></html>
