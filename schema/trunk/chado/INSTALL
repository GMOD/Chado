                            CHADO INSTALLATION

$Id: INSTALL,v 1.9 2003-12-10 19:54:34 allenday Exp $

Prerequisites:

  PostgreSQL (currently, developers are using 7.3.2, but should transition to
  7.4 soon).

  Apache (1.3.*)

  BioPerl (-live or 1.4 when available)
          (-microarray 0.1 --required for microarray data)

  Standard Perl modules:
    * CGI                      (GBrowse)
    * GD                       (GBrowse)
    * DBI                      (GBrowse,chado)
    * DBD::Pg                  (GBrowse,chado)
    * SQL::Translator (0.05 or cvs) (chado)
    * Digest::MD5              (GBrowse)
    * Text::Shellwords         (GBrowse)
    * Class::DBI               (chado)
    * Class::DBI::Pg           (chado)
    * Class::DBI::Pager        (chado)
    * XML::Simple              (chado)
    * XML::DOM                 (chado<->Apollo)
    * XML::Parser              (chado<->Apollo)
    * XML::Parser::PerlSAX     (chado<->Apollo)
    * LWP                      (chado)
    * Log::Log4perl            (chado)
    * Term::ProgressBar        (chado)
  

This document describes how to install the Chado schema:

1.  First, you must set the following variables in your environment:

*   GMOD_ROOT: The location of your GMOD installation (e.g., "/usr/local/gmod")

*   CHADO_DB_NAME: The name of your Chado database

*   CHADO_DB_USERNAME: The username to connect to Chado

*   CHADO_DB_PASSWORD: The password for the database user [opt]

*   CHADO_DB_HOST: The host on which the database runs (e.g. "localhost") [opt]

*   CHADO_DB_PORT: The port on which the database is listening [opt]

As indicated, the host, port, and password are optional.

*   Note: a mechanism exists to pass these variables directly to the
    installer during the "perl Makefile.PL" step.  By giving key=value pairs,
    it is possible to avoid setting environmental variables.  The syntax is as:

       perl Makefile.PL GMOD_ROOT=/usr/local/gmod CHADO_DB_NAME=dev_chado_01

    Backward compatibility may not be maintained for this method of configuring
    the install process will work.  You have been warned.

2.  Next, run the following commands:

*   perl Makefile.PL   
    Creates AutoDBI.pm.

      During this step you are prompted for several configuration values
      used by Chado and its associated tools:

        *   What database server will you be using? [PostgreSQL] 

        Specify what database vendor to use.  Currently only PostgreSQL works.

        *   What is the Chado database name? [dev_chado_allenday_05] 

        This will be the name of the created chado database.

        *   What is the database username? [allenday] 

        Default user that the installed libraries should try to
        connect to the database as.

        *   What is the password for 'allenday'?  

        Password for the default user.

        *   What is the database host? [sumo.genetics.ucla.edu] 

        Host of the database daemon.

        *   What is your database port? [5432] 

        Port of the database daemon.

        *   Available extensions to the core schema:
            [1] sequence/gff-bridge/sequence-gff-views.sql
            [2] sequence/gff-bridge/sequence-gff-funcs.pgsql
            [3] sequence/functions/feature_subalignments.plpgsql
            [4] expression/rad.sql
            [5] expression/expression.sql

            What extensions to the core schema would you like?
            (Note that selecting any of these will force the
            rebuilding of Class::DBI classes.)
            (Comma-delimited)? [0] 

        !!!!!IMPORTANT!!!!!
        This section is where you choose optional extensions to the
        base Chado schema.

        If you plan to use Chado in combination with GBrowse, make
        sure you select (1) and (2).

        If you plan to store many alignments with small regions of
        perfect match, you might want to load the alignment data
        as an alignment string rather than creating a feature for
        each aligned block.  Functionality exists for using this
        method in (3), and is documented in ____.

        If you plan to represent gene expression data in a way that
        is compliant with MIAME standards, make sure you select (4).
        !!!!!IMPORTANT!!!!!

        *   Enter the full path of an external DDL file [none] 

        Path to a file containing external SQL commands to execute
        after the database has been created.  This will typically be
        extra modules/views/tables not distributed with the core schema,
        or default data to insert into the database to fulfill the
        specialized needs of a MOD.

*   make
    Creates necessary files for the rest of the build process.

*   make load_schema
    Creates database, installs schema.

*   make prepdb
    Inserts a few useful items into fundamental Chado tables.

*   make ontologies
    Gets and installs various ontologies

*   load/bin/load_gff3.pl --organism Ecoli --srcdb DB:genbank --gfffile dat/NC_000913.gff
    Loads GFF file
