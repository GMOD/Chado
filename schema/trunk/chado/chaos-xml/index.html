<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Chaos-XML Library</title>
    <link rel="stylesheet" type="text/css" href="doc/css/stylesheet.css">
  </head>

  <body>
    <h1>Chaos-XML Library</h1> 
    <h2>Intro</h2>
    <p>
      The Chaos-XML Library contains software and specifications for the
      Chaos XML format. Chaos XML is for representing sequences and
      sequence features.
    </p>
    <p>
      Chaos is a mapping of the chado relational schema into a
      hierarchical (ie XML) model. Chaos XML can be used in
      conjunction with a Chado database, or it can be used entirely
      independently of Chado or any database. Of course, the Chado
      database may be used entirely independently of Chaos XML.
    </p>
    <p>
      This directory contains perl scripts, modules and XSL transforms
      for extracting chaos from various datasources, and for
      manipulating and transforming chaos documents.
    </p>
    <p>
      Chaos-XML is the annotation format for <a
      href="http://www.yandell-lab.org">CGL</a>.
    </p>

    <h2>Status</h2>
    <p>
      This software and data format will be officially released on
      Jun 1 2005. Until then that time it is to be considered alpha
      software.
    </p>

    <h2>Downloading and Installation</h2>
    <p>You can either download the latest stable release, or fetch the
    bleeding-edge latest version from CVS</p>

    <h3>Download stable release</h3>
    <p>
      This is recommended for most users
    </p>
    <p>
      The current latest release is <a
        href="Bio-Chaos-0.01.tar.gz">Bio-Chaos-0.01</a>. Download this
      and follow the instructions in the <a href="INSTALL">INSTALL</a> file 
    <h3>Obtain from CVS</h3>
    <p>
      See <a href="http://www.gmod.org/cvs.shtml">GMOD CVS</a> for
      details. Chaos-XML is part of the gmod-schema project, see <a href="http://cvs.sourceforge.net/viewcvs.py/gmod/schema/chado/chaos-xml/">gmod/schema/chado/chaos-xml</a>
    </p>

    <h2>Motivation</h2>
    <p>
      The chaos format arose out of a need for an annotation data
      exchange format within the BDGP. We needed an XML format that
      would be compatible with the richness of annotation data that
      could be represented in a Chado database. We also need a format
      that we (BDGP) had direct control over, so that we could make
      minor modifications as required.
    </p>
    <p>
      We created chaos-xml as an almost direct mapping of a pre-1.0
      Chado database. The idea was that there would be no *semantic*
      mapping required between chado and chaos, purely a *syntactic*
      XML to relational mapping. A summary of the differences between
      Chado and Chaos are listed further on in this document.
    </p>
    <p>
      At around the same time the main chado software development team
      at FlyBase devised the official Chado XML format. Chado XML and
      Chaos XML are semantically very similar, but they are different
      in how the XML to relational database mapping is
      performed. Chado XML is also considerably more verbose than
      Chaos XML. This is because Chaos uses some denormalisations of
      the Chado model, explained below.  In our view these two formats
      are complementary. Conversions between the formats should be
      trivial [TODO: XSL mapping].
    </p>
    
    <h2>The Chaos Model</h2>
    <p>
      For full documentation on the Chaos XML datamodel see the dtd
      directory. Elements in Chaos XML will generally have an
      equivalent table or column in the Chado relational schema. Thus
      the Chado documentation should also serve as documentation for
      the Chaos XML format.
    </p>
    <p>
      Briefly, Chaos (and Chado) are generic ontology-typed feature
      graph formats. This is similar to, but richer than, the <a
      href="http://song.sourceforge.net/gff3-jan04.shtml">GFF3 format</a>
    </p>
    <p>
      The central concept in Chaos/Chado is a "feature". A feature can
      represent any genomic or sequence entity that is typed by the
      <a href="http://song.sourceforge.net">Sequence Ontology (SO)</a>
    </p>
    <p>
      Features are interconnected in a feature graph using the
      <i>feature_relationship</i> element. This is to indicate which exons
      and proteins belong to which transcript, which transcripts
      belong to which gene.
    </p>
    <p>
      The location of a feature, relative to another feature, is
      described by the <i>featureloc</i> element. All locations are
      interbase (ie counting from 0, not 1. It is the gaps between
      bases that are counted, not the bases themselves). In contrast
      to chado, which uses fmin/fmax to indicate the left and right
      coordinates, chaos use nbeg/nend to indicate the five prime
      (natural start) and three prime (natural end) coordinates.
    </p>
    <p>
      For more details, see the <a href="dtd">dtd/</a> directory
    </p>

    <h2>Differences between Chaos XML and the Chado Relational Database Schema</h2>
    <p>
      Chaos-XML is based on the Chado relational model. For a full
      explanation of the meaning of the elements in Chaos-XML, please
      refer to the Chado documentation
    </p>
    <p>
      For a full explanation of the differences, see <a
        href="doc/chaos-and-chado.html">Chaos and Chado</a>
    </p>

    <h2>Library Contents</h2>
    <p>
      The Chaos-XML Library consists of specifications and software
      for dealing with Chaos-XML files.
    </p>
    <h3>DTD</h3>
    <p>The DTD specification can be found in <a
        href="dtd/chaos.dtd">dtd/chaos.dtd</a>
    </p>
    <p>
      Soon there will also be specifications as XML Schema and/or Relax-NG
    </p>
    <h3>XSL Stylesheets</h3>
    <p>XSL transformations can be found in the <a
        href="xsl/">xsl/</a> directory.
    </p>  
    <h3>Example Chaos XML</h3>
    <p>Example Chaos-XML can be found in the <a
        href="sample-data/">sample-data/</a> directory.
    </p>
    <h3>Scripts</h3>
    <p>The scripts are in the <a href="bin/">bin/</a> directory. You
      need to install the perl chaos library before running these scripts.
    </p>

    <h3>Chaos Perl Module</h3> 

    <p>You can browse the perl modules in the <a href="lib/">lib/</a>
    directory. To install, download the chaos-xml library and follow
    the instructions in the <a href="INSTALL">INSTALL</a> file.
    </p>

    <h2>Converting between Chaos-XML and Chado-XML</h2>
    <p>
      There are XSLT stylesheets defined for mapping between these two
      similar formats, see the <a href="xsl">xsl/</a> directory.
    </p>
    <p>
      If you are not familiar with XSLT, you can use these scripts,
      part of this distribution (see the <a href="bin/">bin/</a>
      directory
      <ul>
        <li>cx-chaos2chadoxml.pl</li>
        <li>cx-chadoxml2chaos.pl</li>
      </ul>
    </p>

    <h2>Future Extensions</h2>

    <p>
      As new modules are added to chado (for example, the genetics
      module and the phylogeny module), corresponding chaos-xml <a
      href="dtd/chaos.dtd">DTD</a>s will be generated.
    </p>

    <h2>Questions and Further info</h2>

    <p>
      For general info on the chado schema, see
      <a href="http://www.gmod.org/schema/index.shtml">http://www.gmod.org/schema/index.shtml</a>
    </p>
    <p>
      Send questions/comments to this mail list: <a
      href="http://lists.sourceforge.net/lists/listinfo/gmod-schema">http://lists.sourceforge.net/lists/listinfo/gmod-schema</a>
    </p>


    <hr>
    <address><a href="mailto:cjm@fruitfly.org">Chris Mungall</a></address>
<!-- Created: Tue Jun 15 17:44:18 PDT 2004 -->
<!-- hhmts start -->
Last modified: Tue May 10 11:11:15 PDT 2005
<!-- hhmts end -->
  </body>
</html>
