<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>Description of Schema</title>
<meta name="generator" content="SQL::Translator::Producer::HTML" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>
<body>


<h1 class="SchemaDescription">
	Description of Schema
</h1>

<hr />

<!-- 
	Table listing (4 tables)
 -->

<a name="top" />

<table class="LinkTable" width="100%">

<tr>
	<td class="LinkTableCell"><h2 class="LinkTableTitle">
	Tables
</h2></td>
</tr>

<!-- 
	Start link to table 'analysis'
 -->

<tr class="LinkTableRow">
	<td class="LinkTableCell"><a id="analysis-link" href="#analysis">analysis</a></td>
</tr>

<!-- 
	End link to table 'analysis'
 -->

<!-- 
	Start link to table 'analysisprop'
 -->

<tr class="LinkTableRow">
	<td class="LinkTableCell"><a id="analysisprop-link" href="#analysisprop">analysisprop</a></td>
</tr>

<!-- 
	End link to table 'analysisprop'
 -->

<!-- 
	Start link to table 'analysisfeature'
 -->

<tr class="LinkTableRow">
	<td class="LinkTableCell"><a id="analysisfeature-link" href="#analysisfeature">analysisfeature</a></td>
</tr>

<!-- 
	End link to table 'analysisfeature'
 -->

<!-- 
	Start link to table 'analysisfeatureprop'
 -->

<tr class="LinkTableRow">
	<td class="LinkTableCell"><a id="analysisfeatureprop-link" href="#analysisfeatureprop">analysisfeatureprop</a></td>
</tr>

<!-- 
	End link to table 'analysisfeatureprop'
 -->

</table>

<!-- 
	Starting table 'analysis'
 -->

<a name="analysis" />

<table class="TableHeader" width="100%">
	<tr class="TableHeaderRow">
		<td class="TableHeaderCell"><h3>
	analysis
</h3></td>
		<a name="analysis"> <td class="TableHeaderCell" align="right"><a href="#top">Top</a></td>
	</tr>
</table>

<b>
	Comments:
</b>

<br />

<em>
	<br />
	$Id: companalysis.sql,v 1.37 2007-03-23 15:18:02 scottcain Exp $ <br />
	========================================== <br />
	Chado companalysis module <br />
	================================================================= <br />
	Dependencies: <br />
	:import feature from sequence <br />
	:import cvterm from cv <br />
	================================================================= <br />
	================================================ <br />
	TABLE: analysis <br />
	================================================ <br />
	An analysis is a particular type of a
	    computational analysis; it may be a blast of one sequence against
	    another, or an all by all blast, or a different kind of analysis
	    altogether. It is a single unit of computation. 
</em>

<table border="1">

<tr>
	<th class="FieldHeader">
		Field Name
	</th>
	<th class="FieldHeader">
		Data Type
	</th>
	<th class="FieldHeader">
		Size
	</th>
	<th class="FieldHeader">
		Default Value
	</th>
	<th class="FieldHeader">
		Other
	</th>
	<th class="FieldHeader">
		Foreign Key
	</th>
</tr>

<tr class="tr-odd">
	<td class="FieldCellName"><a name="analysis-analysis_id">analysis_id</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">11</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">PRIMARY KEY, NOT NULL</td>
	<td class="FieldCellFK"></td>
</tr>

<tr class="tr-even">
	<td class="FieldCellName"><a name="analysis-name">name</a></td>
	<td class="FieldCellType">varchar</td>
	<td class="FieldCellSize">255</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">A way of grouping analyses. This
    should be a handy short identifier that can help people find an
    analysis they want. For instance "tRNAscan", "cDNA", "FlyPep",
    "SwissProt", and it should not be assumed to be unique. For instance, there may be lots of separate analyses done against a cDNA database. </td>
	<td class="FieldCellFK"></td>
</tr>

<tr class="tr-odd">
	<td class="FieldCellName"><a name="analysis-description">description</a></td>
	<td class="FieldCellType">text</td>
	<td class="FieldCellSize">64000</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther"></td>
	<td class="FieldCellFK"></td>
</tr>

<tr class="tr-even">
	<td class="FieldCellName"><a name="analysis-program">program</a></td>
	<td class="FieldCellType">varchar</td>
	<td class="FieldCellSize">255</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">UNIQUE, NOT NULL, Program name, e.g. blastx, blastp, sim4, genscan. </td>
	<td class="FieldCellFK"></td>
</tr>

<tr class="tr-odd">
	<td class="FieldCellName"><a name="analysis-programversion">programversion</a></td>
	<td class="FieldCellType">varchar</td>
	<td class="FieldCellSize">255</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">UNIQUE, NOT NULL, Version description, e.g. TBLASTX 2.0MP-WashU [09-Nov-2000]. </td>
	<td class="FieldCellFK"></td>
</tr>

<tr class="tr-even">
	<td class="FieldCellName"><a name="analysis-algorithm">algorithm</a></td>
	<td class="FieldCellType">varchar</td>
	<td class="FieldCellSize">255</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">Algorithm name, e.g. blast. </td>
	<td class="FieldCellFK"></td>
</tr>

<tr class="tr-odd">
	<td class="FieldCellName"><a name="analysis-sourcename">sourcename</a></td>
	<td class="FieldCellType">varchar</td>
	<td class="FieldCellSize">255</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">UNIQUE, Source name, e.g. cDNA, SwissProt. </td>
	<td class="FieldCellFK"></td>
</tr>

<tr class="tr-even">
	<td class="FieldCellName"><a name="analysis-sourceversion">sourceversion</a></td>
	<td class="FieldCellType">varchar</td>
	<td class="FieldCellSize">255</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther"></td>
	<td class="FieldCellFK"></td>
</tr>

<tr class="tr-odd">
	<td class="FieldCellName"><a name="analysis-sourceuri">sourceuri</a></td>
	<td class="FieldCellType">text</td>
	<td class="FieldCellSize">64000</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">This is an optional, permanent URL or URI for the source of the  analysis. The idea is that someone could recreate the analysis directly by going to this URI and fetching the source data (e.g. the blast database, or the training model). </td>
	<td class="FieldCellFK"></td>
</tr>

<tr class="tr-even">
	<td class="FieldCellName"><a name="analysis-timeexecuted">timeexecuted</a></td>
	<td class="FieldCellType">timestamp</td>
	<td class="FieldCellSize">0</td>
	<td class="FieldCellDefault">current_timestamp</td>
	<td class="FieldCellOther">NOT NULL</td>
	<td class="FieldCellFK"></td>
</tr>

</table>

<h3>
	Constraints
</h3>

<table border="1">

<tr class="IndexRow">
	<th>
		Type
	</th>
	<th>
		Fields
	</th>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>analysis_id</td>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>program</td>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>programversion</td>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>timeexecuted</td>
</tr>

<tr class="IndexCell">
	<td>UNIQUE</td>
	<td>program, programversion, sourcename</td>
</tr>

</table>

<hr />

<!-- 
	Starting table 'analysisprop'
 -->

<a name="analysisprop" />

<table class="TableHeader" width="100%">
	<tr class="TableHeaderRow">
		<td class="TableHeaderCell"><h3>
	analysisprop
</h3></td>
		<a name="analysisprop"> <td class="TableHeaderCell" align="right"><a href="#top">Top</a></td>
	</tr>
</table>

<b>
	Comments:
</b>

<br />

<em>
	<br />
	================================================ <br />
	TABLE: analysisprop <br />
	================================================
</em>

<table border="1">

<tr>
	<th class="FieldHeader">
		Field Name
	</th>
	<th class="FieldHeader">
		Data Type
	</th>
	<th class="FieldHeader">
		Size
	</th>
	<th class="FieldHeader">
		Default Value
	</th>
	<th class="FieldHeader">
		Other
	</th>
	<th class="FieldHeader">
		Foreign Key
	</th>
</tr>

<tr class="tr-odd">
	<td class="FieldCellName"><a name="analysisprop-analysisprop_id">analysisprop_id</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">11</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">PRIMARY KEY, NOT NULL</td>
	<td class="FieldCellFK"></td>
</tr>

<tr class="tr-even">
	<td class="FieldCellName"><a name="analysisprop-analysis_id">analysis_id</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">10</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">UNIQUE, NOT NULL</td>
	<td class="FieldCellFK"><a href="#analysis-analysis_id">analysis.analysis_id</a></td>
</tr>

<tr class="tr-odd">
	<td class="FieldCellName"><a name="analysisprop-type_id">type_id</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">10</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">UNIQUE, NOT NULL</td>
	<td class="FieldCellFK"><a href="#cvterm-cvterm_id">cvterm.cvterm_id</a></td>
</tr>

<tr class="tr-even">
	<td class="FieldCellName"><a name="analysisprop-value">value</a></td>
	<td class="FieldCellType">text</td>
	<td class="FieldCellSize">64000</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther"></td>
	<td class="FieldCellFK"></td>
</tr>

<tr class="tr-odd">
	<td class="FieldCellName"><a name="analysisprop-rank">rank</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">10</td>
	<td class="FieldCellDefault">0</td>
	<td class="FieldCellOther">UNIQUE, NOT NULL</td>
	<td class="FieldCellFK"></td>
</tr>

</table>

<h3>
	Indices
</h3>

<table border="1">

<tr class="IndexRow">
	<th>
		Name
	</th>
	<th>
		Fields
	</th>
</tr>

<tr class="IndexCell">
	<td>analysisprop_idx1</td>
	<td>analysis_id</td>
</tr>

<tr class="IndexCell">
	<td>analysisprop_idx2</td>
	<td>type_id</td>
</tr>

</table>

<h3>
	Constraints
</h3>

<table border="1">

<tr class="IndexRow">
	<th>
		Type
	</th>
	<th>
		Fields
	</th>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>analysisprop_id</td>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>analysis_id</td>
</tr>

<tr class="IndexCell">
	<td>FOREIGN KEY</td>
	<td>analysis_id</td>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>type_id</td>
</tr>

<tr class="IndexCell">
	<td>FOREIGN KEY</td>
	<td>type_id</td>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>rank</td>
</tr>

<tr class="IndexCell">
	<td>UNIQUE</td>
	<td>analysis_id, type_id, rank</td>
</tr>

</table>

<hr />

<!-- 
	Starting table 'analysisfeature'
 -->

<a name="analysisfeature" />

<table class="TableHeader" width="100%">
	<tr class="TableHeaderRow">
		<td class="TableHeaderCell"><h3>
	analysisfeature
</h3></td>
		<a name="analysisfeature"> <td class="TableHeaderCell" align="right"><a href="#top">Top</a></td>
	</tr>
</table>

<b>
	Comments:
</b>

<br />

<em>
	<br />
	================================================ <br />
	TABLE: analysisfeature <br />
	================================================ <br />
	Computational analyses generate features (e.g. Genscan generates transcripts and exons; sim4 alignments generate similarity/match features). analysisfeatures are stored using the feature table from the sequence module. The analysisfeature table is used to decorate these features, with analysis specific attributes. A feature is an analysisfeature if and only if there is a corresponding entry in the analysisfeature table. analysisfeatures will have two or more featureloc entries,
	 with rank indicating query/subject 
</em>

<table border="1">

<tr>
	<th class="FieldHeader">
		Field Name
	</th>
	<th class="FieldHeader">
		Data Type
	</th>
	<th class="FieldHeader">
		Size
	</th>
	<th class="FieldHeader">
		Default Value
	</th>
	<th class="FieldHeader">
		Other
	</th>
	<th class="FieldHeader">
		Foreign Key
	</th>
</tr>

<tr class="tr-odd">
	<td class="FieldCellName"><a name="analysisfeature-analysisfeature_id">analysisfeature_id</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">11</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">PRIMARY KEY, NOT NULL</td>
	<td class="FieldCellFK"></td>
</tr>

<tr class="tr-even">
	<td class="FieldCellName"><a name="analysisfeature-feature_id">feature_id</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">10</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">UNIQUE, NOT NULL</td>
	<td class="FieldCellFK"><a href="#feature-feature_id">feature.feature_id</a></td>
</tr>

<tr class="tr-odd">
	<td class="FieldCellName"><a name="analysisfeature-analysis_id">analysis_id</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">10</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">UNIQUE, NOT NULL</td>
	<td class="FieldCellFK"><a href="#analysis-analysis_id">analysis.analysis_id</a></td>
</tr>

<tr class="tr-even">
	<td class="FieldCellName"><a name="analysisfeature-rawscore">rawscore</a></td>
	<td class="FieldCellType">float</td>
	<td class="FieldCellSize">20</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">This is the native score generated by the program; for example, the bitscore generated by blast, sim4 or genscan scores. One should not assume that high is necessarily better than low. </td>
	<td class="FieldCellFK"></td>
</tr>

<tr class="tr-odd">
	<td class="FieldCellName"><a name="analysisfeature-normscore">normscore</a></td>
	<td class="FieldCellType">float</td>
	<td class="FieldCellSize">20</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">This is the rawscore but
    semi-normalized. Complete normalization to allow comparison of
    features generated by different programs would be nice but too
    difficult. Instead the normalization should strive to enforce the
    following semantics: * normscores are floating point numbers >= 0,
    * high normscores are better than low one. For most programs, it would be sufficient to make the normscore the same as this rawscore, providing these semantics are satisfied. </td>
	<td class="FieldCellFK"></td>
</tr>

<tr class="tr-even">
	<td class="FieldCellName"><a name="analysisfeature-significance">significance</a></td>
	<td class="FieldCellType">float</td>
	<td class="FieldCellSize">20</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">This is some kind of expectation or probability metric, representing the probability that the analysis would appear randomly given the model. As such, any program or person querying this table can assume the following semantics:
   * 0 <= significance <= n, where n is a positive number, theoretically unbounded but unlikely to be more than 10
  * low numbers are better than high numbers. </td>
	<td class="FieldCellFK"></td>
</tr>

<tr class="tr-odd">
	<td class="FieldCellName"><a name="analysisfeature-identity">identity</a></td>
	<td class="FieldCellType">float</td>
	<td class="FieldCellSize">20</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">Percent identity between the locations compared.  Note that these 4 metrics do not cover the full range of scores possible; it would be undesirable to list every score possible, as this should be kept extensible. instead, for non-standard scores, use the analysisprop table. </td>
	<td class="FieldCellFK"></td>
</tr>

</table>

<h3>
	Indices
</h3>

<table border="1">

<tr class="IndexRow">
	<th>
		Name
	</th>
	<th>
		Fields
	</th>
</tr>

<tr class="IndexCell">
	<td>analysisfeature_idx1</td>
	<td>feature_id</td>
</tr>

<tr class="IndexCell">
	<td>analysisfeature_idx2</td>
	<td>analysis_id</td>
</tr>

</table>

<h3>
	Constraints
</h3>

<table border="1">

<tr class="IndexRow">
	<th>
		Type
	</th>
	<th>
		Fields
	</th>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>analysisfeature_id</td>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>feature_id</td>
</tr>

<tr class="IndexCell">
	<td>FOREIGN KEY</td>
	<td>feature_id</td>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>analysis_id</td>
</tr>

<tr class="IndexCell">
	<td>FOREIGN KEY</td>
	<td>analysis_id</td>
</tr>

<tr class="IndexCell">
	<td>UNIQUE</td>
	<td>feature_id, analysis_id</td>
</tr>

</table>

<hr />

<!-- 
	Starting table 'analysisfeatureprop'
 -->

<a name="analysisfeatureprop" />

<table class="TableHeader" width="100%">
	<tr class="TableHeaderRow">
		<td class="TableHeaderCell"><h3>
	analysisfeatureprop
</h3></td>
		<a name="analysisfeatureprop"> <td class="TableHeaderCell" align="right"><a href="#top">Top</a></td>
	</tr>
</table>

<table border="1">

<tr>
	<th class="FieldHeader">
		Field Name
	</th>
	<th class="FieldHeader">
		Data Type
	</th>
	<th class="FieldHeader">
		Size
	</th>
	<th class="FieldHeader">
		Default Value
	</th>
	<th class="FieldHeader">
		Other
	</th>
	<th class="FieldHeader">
		Foreign Key
	</th>
</tr>

<tr class="tr-odd">
	<td class="FieldCellName"><a name="analysisfeatureprop-analysisfeatureprop_id">analysisfeatureprop_id</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">11</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">PRIMARY KEY, NOT NULL</td>
	<td class="FieldCellFK"></td>
</tr>

<tr class="tr-even">
	<td class="FieldCellName"><a name="analysisfeatureprop-analysisfeature_id">analysisfeature_id</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">10</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">UNIQUE, NOT NULL</td>
	<td class="FieldCellFK"><a href="#analysisfeature-analysisfeature_id">analysisfeature.analysisfeature_id</a></td>
</tr>

<tr class="tr-odd">
	<td class="FieldCellName"><a name="analysisfeatureprop-type_id">type_id</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">10</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">UNIQUE, NOT NULL</td>
	<td class="FieldCellFK"><a href="#cvterm-cvterm_id">cvterm.cvterm_id</a></td>
</tr>

<tr class="tr-even">
	<td class="FieldCellName"><a name="analysisfeatureprop-value">value</a></td>
	<td class="FieldCellType">text</td>
	<td class="FieldCellSize">64000</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther"></td>
	<td class="FieldCellFK"></td>
</tr>

<tr class="tr-odd">
	<td class="FieldCellName"><a name="analysisfeatureprop-rank">rank</a></td>
	<td class="FieldCellType">integer</td>
	<td class="FieldCellSize">10</td>
	<td class="FieldCellDefault"></td>
	<td class="FieldCellOther">UNIQUE, NOT NULL</td>
	<td class="FieldCellFK"></td>
</tr>

</table>

<h3>
	Constraints
</h3>

<table border="1">

<tr class="IndexRow">
	<th>
		Type
	</th>
	<th>
		Fields
	</th>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>analysisfeature_id</td>
</tr>

<tr class="IndexCell">
	<td>FOREIGN KEY</td>
	<td>analysisfeature_id</td>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>type_id</td>
</tr>

<tr class="IndexCell">
	<td>FOREIGN KEY</td>
	<td>type_id</td>
</tr>

<tr class="IndexCell">
	<td>NOT NULL</td>
	<td>rank</td>
</tr>

<tr class="IndexCell">
	<td>UNIQUE</td>
	<td>analysisfeature_id, type_id, rank</td>
</tr>

<tr class="IndexCell">
	<td>FOREIGN KEY</td>
	<td>analysisfeature_id</td>
</tr>

<tr class="IndexCell">
	<td>FOREIGN KEY</td>
	<td>type_id</td>
</tr>

</table>

<hr />

Created by <a href="http://sqlfairy.sourceforge.net">
SQL::Translator 0.11003</a>

</body>
</html>
